---
title: BPMN2.0
date: 2022-04-11 09:48:11
tags:
  - 画图符号和规范
categories:
  - 引擎
  - 工作流引擎
---

# BPMN概述



# BPMN的四种基本元素

- **流对象**（Flow Objects）：包括事件、活动、网关，是BPMN的核心元素；
- **连接对象**（Connecting Objects）：包括顺序流、消息流、关联；
- **泳道**（Swimlanes）：包括池和道两种类型；
- **人工信息**（Artifacts）：包括数据对象、组、注释

# BPNM基本符号元素

## 参与者

### 功能概述

表示流程中活动的执行者，可以是一个组织、角色、系统或者个人。包括泳池和泳道

**泳池和泳道定义了流程中的职责：**泳池在它所处的环境中有明确的组织边界，比如一家公司或者一个组织。泳道总是位于一个泳池或者另一个泳道中，它与同一个泳池中的其他泳道可以无限制地通信。它们通常代表了流程执行中的不同角色，也就是流程中的参与者。泳道还可以用来对不同的任务或者子流程分组，以分派给不同的任务管理者

### 符号

泳池（大橙子股份有限公司）：泳池描述的是整个组织，它可以划分成多个泳道，泳道具有分层结构

泳道（人力资源部、财务部）：泳道描述的是流程的参与者，也就是执行一系列特定任务的角色

![image-20220411100657952](BPMN2.0\image-20220411100657952.png)

## 任务



### 抽象任务



<img src="BPMN2.0\image-20220411101847868.png" alt="image-20220411101847868" style="zoom:25%;" />

### 服务任务

它的工作一般由软件自动完成，比如一个Web 服务或者一个自动化的应用

服务任务用于调用服务。在Camunda 中，这是通过调用Java 代码
或为外部执行者提供一个工作单元来完成的

<img src="BPMN2.0\image-20220411101910143.png" alt="image-20220411101910143" style="zoom:25%;" />

### 发送任务

是一种比较简单的任务，用来把消息发送
给外部参与者

<img src="BPMN2.0\image-20220411101924477.png" alt="image-20220411101924477" style="zoom:25%;" />

### 用户任务

用于为那些需要由人工参与者完成的工作建模。当流程执行到一
个用户任务时，将在分配该任务的用户或组的任务列表中创建一个新
任务。当任务完成后，流程引擎（简称引擎）会期望得到一个确认

<img src="BPMN2.0\image-20220411102053202.png" alt="image-20220411102053202" style="zoom:25%;" />

### 业务规则任务

主要用来对接业务规则引擎（Business Rules Engine）。业务规
则任务用于同步执行一个或多个规则

<img src="BPMN2.0\image-20220411102148275.png" alt="image-20220411102148275" style="zoom:25%;" />

### 脚本任务

是一个自动化的活动。当流程执行到脚本任务时，将执行相应的脚本

<img src="BPMN2.0\image-20220411102218140.png" alt="image-20220411102218140" style="zoom:25%;" />

### 接收任务

是一个简单的任务，它等待特定消息的到来。当流程执行到接收任务时，流程状态将提交给持久性存储。这意味着流程将保持这种等待状态，直到流程引擎接收到特定的消息，这将触发接收任务之外流程的继续进行

<img src="BPMN2.0\image-20220411102358852.png" alt="image-20220411102358852" style="zoom:25%;" />

### 手工任务

用于定义流程引擎外部的任务。它用于对流程引擎不需要知道、没有已知系统或用户接口的人所做的工作进行建模

<img src="BPMN2.0\image-20220411102435218.png" alt="image-20220411102435218" style="zoom:25%;" />

### 任务标记

除了各种类型的任务之外，还可以将任务标记为循环、多实例或补偿。标记可以与任务类型组合

## 网关

通常需要做出选择，也就是进行业务决策。在BPMN 中，这个决策用网关（Gateway）来表示。网关也叫逻辑门，用来控制顺序流的分叉（Fork）和连接（Join）。所谓的分叉，就是把顺序流（Sequence Flow）发散开去，变成两个或者多个分支；而连接则相反，把两个或者多个分支合并成一个

### 排他网关

（也称为XOR 网关或基于数据的排他网关）用于对流程中的决策建模。当执行
到达此网关时，将依次评估所有传出序列流，并选择第一个条件评估结果为真（True）的序
列流来继续这个流程

![image-20220411103417609](BPMN2.0\image-20220411103417609.png)

### 并行网关

并行网关的功能是基于传入和传出序列流的。
（1）Fork。所有传出序列流都是并行执行的，将为每个序列流创建一个并发执行。
（2）Join。到达并行网关的所有并发执行都在网关等待，直到所有传入序列流的执行都
到达，然后这个流程继续进行。

请注意，如果同一并行网关有多个传入和传出序列流，那么并行网关可以同时具有Fork和Join 行为。在这种情况下，网关将首先连接所有传入的序列流，然后再分割成多个并发的执行路径

并行网关与其他网关类型的一个重要区别是它不会评估条件

注意，并行网关不需要是“平衡”的，也就是说，对应的并行网关的传入和传出序列流的数量不需要是匹配的

![image-20220411103404505](BPMN2.0\image-20220411103404505.png)

### 包含网关



## 事件



## 子流程



